<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>แผนที่เส้นทางรถโดยสาร</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <style>
        #map {
            height: 600px;
            width: 100%;
        }
        #controls {
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <h1>แผนที่เส้นทางรถโดยสารในมหาวิทยาลัย</h1>
    <div class="controls">
        <label for="start">เลือกสถานีต้นทาง:</label>
        <select id="start">
                       <option value="7-11 หลังหอ 8">7-11 หลังหอ 8</option>
            <option value="Complex">Complex</option>
            <option value="Golden Living">Golden Living</option>
            <option value="JK เครื่องเขียน">JK เครื่องเขียน</option>
            <option value="KKBS">KKBS</option>
            <option value="YOUR SMILE">YOUR SMILE</option>
            <option value="กาแฟเด้อหล่า">กาแฟเด้อหล่า</option>
            <option value="เกษียรสินธุ์ปาร์ค">เกษียรสินธุ์ปาร์ค</option>
            <option value="คณะเกษตรศาสตร์1">คณะเกษตรศาสตร์1</option>
            <option value="คณะเกษตรศาสตร์2">คณะเกษตรศาสตร์2</option>
            <option value="คณะเกษตรศาสตร์3">คณะเกษตรศาสตร์3</option>
            <option value="คณะทันตแพทยศาสตร์">คณะทันตแพทยศาสตร์</option>
            <option value="คณะเทคนิคการแพทย์">คณะเทคนิคการแพทย์</option>
            <option value="คณะเทคโนโลยี1">คณะเทคโนโลยี1</option>
            <option value="คณะเทคโนโลยี2">คณะเทคโนโลยี2</option>
            <option value="คณะนิติศาสตร์">คณะนิติศาสตร์</option>
            <option value="คณะพยาบาลศาสตร์">คณะพยาบาลศาสตร์</option>
            <option value="คณะแพทย์ศาสตร์">คณะแพทย์ศาสตร์</option>
            <option value="คณะเภสัชศาสตร์1">คณะเภสัชศาสตร์</option>
            <option value="คณะเภสัชศาสตร์2">คณะเภสัชศาสตร์2</option>
            <option value="คณะมนุษยศาสตร์และสังคมศาสตร์">คณะมนุษยศาสตร์และสังคมศาสตร์</option>
            <option value="คณะวิทยาศาสตร์">คณะวิทยาศาสตร์</option>
            <option value="คณะวิศวกรรมศาสตร์1">คณะวิศวกรรมศาสตร์1</option>
            <option value="คณะวิศวกรรมศาสตร์2">คณะวิศวกรรมศาสตร์2</option>
            <option value="คณะศิลปกรรมศาสตร์">คณะศิลปกรรมศาสตร์</option>
            <option value="คณะศึกษาศาสตร์">คณะศึกษาศาสตร์</option>
            <option value="คณะสถาปัตยกรรมศาสตร์">คณะสถาปัตยกรรมศาสตร์</option>
            <option value="คณะสัตวแพทยศาสตร์">คณะสัตวแพทยศาสตร์</option>
            <option value="ครัวโอมหมูกรอบ">ครัวโอมหมูกรอบ</option>
            <option value="คอมเพล็กซ์">คอมเพล็กซ์</option>
            <option value="คุ้มศรีฐาน">คุ้มศรีฐาน</option>
            <option value="เคี้ยงหลังมอ">เคี้ยงหลังมอ</option>
            <option value="ตรงข้ามอาคารสิริคุณากร">ตรงข้ามอาคารสิริคุณากร</option>
            <option value="ที่พักญาติ">ที่พักญาติ</option>
            <option value="ที่พักญาติ">ที่พักญาติ</option>
            <option value="บ้านพักสบาย">บ้านพักสบาย</option>
            <option value="บ้านสวนมอ">บ้านสวนมอ</option>
            <option value="บึงหนองแวงตราชู">บึงหนองแวงตราชู</option>
            <option value="ปตท.">ปตท.</option>
            <option value="ประตูกังสดาล">ประตูกังสดาล</option>
            <option value="ประตูเจ้าพ่อมอ">ประตูเจ้าพ่อมอ</option>
            <option value="ประตูศรีฐาน">ประตูศรีฐาน</option>
            <option value="พิพิธภัณฑ์ธรรมชาติวิทยา">พิพิธภัณฑ์ธรรมชาติวิทยา</option>
            <option value="พิมานคอนโด">พิมานคอนโด</option>
            <option value="แฟลต14">แฟลต14</option>
            <option value="แฟลตป่าดู่1">แฟลตป่าดู่1</option>
            <option value="แฟลตป่าดู่2">แฟลตป่าดู่2</option>
            <option value="แฟลตศูนย์แพทย์">แฟลตศูนย์แพทย์</option>
            <option value="ร้านชบา">ร้านชบา</option>
            <option value="ร้านพรพระ">ร้านพรพระ</option>
            <option value="ร้านพู่กันเครื่องเขียน">ร้านพู่กันเครื่องเขียน</option>
            <option value="โรงชาย">โรงชาย</option>
            <option value="โรงพยาบาลศรีนครินทร์">โรงพยาบาลศรีนครินทร์</option>
            <option value="โรงพิมพ์">โรงพิมพ์</option>
            <option value="โรงยิมเก่า">โรงยิมเก่า</option>
            <option value="โรงเรียนสาธิตมหาวิทยาลัยขอนแก่น">โรงเรียนสาธิตมหาวิทยาลัยขอนแก่น</option>
            <option value="โรงเรียนสาธิตมอดินแดง">โรงเรียนสาธิตมอดินแดง</option>
            <option value="โรงแรมบายาสิตา">โรงแรมบายาสิตา</option>
            <option value="โรงอาหาร U-center">โรงอาหาร U-center</option>
            <option value="โรงอาหารคณะพยาบาล">โรงอาหารคณะพยาบาล</option>
            <option value="โรงอาหารหนองแวง">โรงอาหารหนองแวง</option>
            <option value="ลานจอดรถหอพัก 8 หลัง">ลานจอดรถหอพัก 8 หลัง</option>
            <option value="ลานจอรถอุทยานการเกษตร">ลานจอรถอุทยานการเกษตร</option>
            <option value="วงเวียนศูนย์หัวใจสิริกิติ์">วงเวียนศูนย์หัวใจสิริกิติ์</option>
            <option value="วิทยาลัยปกครองท้องถิ่น">วิทยาลัยปกครองท้องถิ่น</option>
            <option value="วิมานดิน">วิมานดิน</option>
            <option value="ศาลเจ้าพ่อมอ">ศาลเจ้าพ่อมอ</option>
            <option value="ศูนย์ประชุมกาญจนาภิเษก">ศูนย์ประชุมกาญจนาภิเษก</option>
            <option value="ศูนย์รถมอเตอร์ไซไฟฟ้า">ศูนย์รถมอเตอร์ไซไฟฟ้า</option>
            <option value="ศูนย์หัวใจสิริกิติ์">ศูนย์หัวใจสิริกิติ์</option>
            <option value="สถาบันขงจื่อ">สถาบันขงจื่อ</option>
            <option value="สถาบันลุ่มน้ำโขง">สถาบันลุ่มน้ำโขง</option>
            <option value="สนามยิงปืน">สนามยิงปืน</option>
            <option value="สนามรักบี้">สนามรักบี้</option>
            <option value="สระพลาสติก">สระพลาสติก</option>
            <option value="หน้าอาคารสิริคุณากร">หน้าอาคารสิริคุณากร</option>
            <option value="หมู่บ้านศูนย์แพทย์">หมู่บ้านศูนย์แพทย์</option>
            <option value="หมู่บ้านศูนย์แพทย์1">หมู่บ้านศูนย์แพทย์1</option>
            <option value="หมู่บ้านศูนย์แพทย์4">หมู่บ้านศูนย์แพทย์4</option>
            <option value="หอในชาย 8">หอในชาย 8</option>
            <option value="หอในชาย 9">หอในชาย 9</option>
            <option value="หอพัก 8 หลัง">หอพัก 8 หลัง</option>
            <option value="หอพักนักศึกษาพยาบาล">หอพักนศ.พยาบาล</option>
            <option value="หอพักนักศึกษาแพทย์">หอพักนักศึกษาแพทย์</option>
            <option value="หอพักมอแดงเพลส">หอพักมอแดงเพลส</option>
            <option value="หอศิลป์">หอศิลป์</option>
            <option value="หอสมุดมหาวิทยาลัยขอนแก่น">หอสมุดมหาวิทยาลัยขอนแก่น</option>
            <option value="หออินเตอร์">หออินเตอร์</option>
            <option value="อาคารจอดรถสถานีชาร์จไฟฟ้า">อาคารจอดรถสถานีชาร์จไฟฟ้า</option>
            <option value="อาคารสิริคุณากร">อาคารสิริคุณากร</option>
            <option value="อุทยานการเกษตร1">อุทยานการเกษตร1</option>
            <option value="อุทยานการเกษตร2">อุทยานการเกษตร2</option>
            <!-- รายการอื่นๆ -->
        </select>
        
        <label for="end">เลือกสถานีปลายทาง:</label>
        <select id="end">
            <option value="7-11 หลังหอ 8">7-11 หลังหอ 8</option>
            <option value="Complex">Complex</option>
            <option value="Golden Living">Golden Living</option>
            <option value="JK เครื่องเขียน">JK เครื่องเขียน</option>
            <option value="KKBS">KKBS</option>
            <option value="YOUR SMILE">YOUR SMILE</option>
            <option value="กาแฟเด้อหล่า">กาแฟเด้อหล่า</option>
            <option value="เกษียรสินธุ์ปาร์ค">เกษียรสินธุ์ปาร์ค</option>
            <option value="คณะเกษตรศาสตร์1">คณะเกษตรศาสตร์1</option>
            <option value="คณะเกษตรศาสตร์2">คณะเกษตรศาสตร์2</option>
            <option value="คณะเกษตรศาสตร์3">คณะเกษตรศาสตร์3</option>
            <option value="คณะทันตแพทยศาสตร์">คณะทันตแพทยศาสตร์</option>
            <option value="คณะเทคนิคการแพทย์">คณะเทคนิคการแพทย์</option>
            <option value="คณะเทคโนโลยี1">คณะเทคโนโลยี1</option>
            <option value="คณะเทคโนโลยี2">คณะเทคโนโลยี2</option>
            <option value="คณะนิติศาสตร์">คณะนิติศาสตร์</option>
            <option value="คณะพยาบาลศาสตร์">คณะพยาบาลศาสตร์</option>
            <option value="คณะแพทย์ศาสตร์">คณะแพทย์ศาสตร์</option>
            <option value="คณะเภสัชศาสตร์1">คณะเภสัชศาสตร์</option>
            <option value="คณะเภสัชศาสตร์2">คณะเภสัชศาสตร์2</option>
            <option value="คณะมนุษยศาสตร์และสังคมศาสตร์">คณะมนุษยศาสตร์และสังคมศาสตร์</option>
            <option value="คณะวิทยาศาสตร์">คณะวิทยาศาสตร์</option>
            <option value="คณะวิศวกรรมศาสตร์1">คณะวิศวกรรมศาสตร์1</option>
            <option value="คณะวิศวกรรมศาสตร์2">คณะวิศวกรรมศาสตร์2</option>
            <option value="คณะศิลปกรรมศาสตร์">คณะศิลปกรรมศาสตร์</option>
            <option value="คณะศึกษาศาสตร์">คณะศึกษาศาสตร์</option>
            <option value="คณะสถาปัตยกรรมศาสตร์">คณะสถาปัตยกรรมศาสตร์</option>
            <option value="คณะสัตวแพทยศาสตร์">คณะสัตวแพทยศาสตร์</option>
            <option value="ครัวโอมหมูกรอบ">ครัวโอมหมูกรอบ</option>
            <option value="คอมเพล็กซ์">คอมเพล็กซ์</option>
            <option value="คุ้มศรีฐาน">คุ้มศรีฐาน</option>
            <option value="เคี้ยงหลังมอ">เคี้ยงหลังมอ</option>
            <option value="ตรงข้ามอาคารสิริคุณากร">ตรงข้ามอาคารสิริคุณากร</option>
            <option value="ที่พักญาติ">ที่พักญาติ</option>
            <option value="ที่พักญาติ">ที่พักญาติ</option>
            <option value="บ้านพักสบาย">บ้านพักสบาย</option>
            <option value="บ้านสวนมอ">บ้านสวนมอ</option>
            <option value="บึงหนองแวงตราชู">บึงหนองแวงตราชู</option>
            <option value="ปตท.">ปตท.</option>
            <option value="ประตูกังสดาล">ประตูกังสดาล</option>
            <option value="ประตูเจ้าพ่อมอ">ประตูเจ้าพ่อมอ</option>
            <option value="ประตูศรีฐาน">ประตูศรีฐาน</option>
            <option value="พิพิธภัณฑ์ธรรมชาติวิทยา">พิพิธภัณฑ์ธรรมชาติวิทยา</option>
            <option value="พิมานคอนโด">พิมานคอนโด</option>
            <option value="แฟลต14">แฟลต14</option>
            <option value="แฟลตป่าดู่1">แฟลตป่าดู่1</option>
            <option value="แฟลตป่าดู่2">แฟลตป่าดู่2</option>
            <option value="แฟลตศูนย์แพทย์">แฟลตศูนย์แพทย์</option>
            <option value="ร้านชบา">ร้านชบา</option>
            <option value="ร้านพรพระ">ร้านพรพระ</option>
            <option value="ร้านพู่กันเครื่องเขียน">ร้านพู่กันเครื่องเขียน</option>
            <option value="โรงชาย">โรงชาย</option>
            <option value="โรงพยาบาลศรีนครินทร์">โรงพยาบาลศรีนครินทร์</option>
            <option value="โรงพิมพ์">โรงพิมพ์</option>
            <option value="โรงยิมเก่า">โรงยิมเก่า</option>
            <option value="โรงเรียนสาธิตมหาวิทยาลัยขอนแก่น">โรงเรียนสาธิตมหาวิทยาลัยขอนแก่น</option>
            <option value="โรงเรียนสาธิตมอดินแดง">โรงเรียนสาธิตมอดินแดง</option>
            <option value="โรงแรมบายาสิตา">โรงแรมบายาสิตา</option>
            <option value="โรงอาหาร U-center">โรงอาหาร U-center</option>
            <option value="โรงอาหารคณะพยาบาล">โรงอาหารคณะพยาบาล</option>
            <option value="โรงอาหารหนองแวง">โรงอาหารหนองแวง</option>
            <option value="ลานจอดรถหอพัก 8 หลัง">ลานจอดรถหอพัก 8 หลัง</option>
            <option value="ลานจอรถอุทยานการเกษตร">ลานจอรถอุทยานการเกษตร</option>
            <option value="วงเวียนศูนย์หัวใจสิริกิติ์">วงเวียนศูนย์หัวใจสิริกิติ์</option>
            <option value="วิทยาลัยปกครองท้องถิ่น">วิทยาลัยปกครองท้องถิ่น</option>
            <option value="วิมานดิน">วิมานดิน</option>
            <option value="ศาลเจ้าพ่อมอ">ศาลเจ้าพ่อมอ</option>
            <option value="ศูนย์ประชุมกาญจนาภิเษก">ศูนย์ประชุมกาญจนาภิเษก</option>
            <option value="ศูนย์รถมอเตอร์ไซไฟฟ้า">ศูนย์รถมอเตอร์ไซไฟฟ้า</option>
            <option value="ศูนย์หัวใจสิริกิติ์">ศูนย์หัวใจสิริกิติ์</option>
            <option value="สถาบันขงจื่อ">สถาบันขงจื่อ</option>
            <option value="สถาบันลุ่มน้ำโขง">สถาบันลุ่มน้ำโขง</option>
            <option value="สนามยิงปืน">สนามยิงปืน</option>
            <option value="สนามรักบี้">สนามรักบี้</option>
            <option value="สระพลาสติก">สระพลาสติก</option>
            <option value="หน้าอาคารสิริคุณากร">หน้าอาคารสิริคุณากร</option>
            <option value="หมู่บ้านศูนย์แพทย์">หมู่บ้านศูนย์แพทย์</option>
            <option value="หมู่บ้านศูนย์แพทย์1">หมู่บ้านศูนย์แพทย์1</option>
            <option value="หมู่บ้านศูนย์แพทย์4">หมู่บ้านศูนย์แพทย์4</option>
            <option value="หอในชาย 8">หอในชาย 8</option>
            <option value="หอในชาย 9">หอในชาย 9</option>
            <option value="หอพัก 8 หลัง">หอพัก 8 หลัง</option>
            <option value="หอพักนักศึกษาพยาบาล">หอพักนศ.พยาบาล</option>
            <option value="หอพักนักศึกษาแพทย์">หอพักนักศึกษาแพทย์</option>
            <option value="หอพักมอแดงเพลส">หอพักมอแดงเพลส</option>
            <option value="หอศิลป์">หอศิลป์</option>
            <option value="หอสมุดมหาวิทยาลัยขอนแก่น">หอสมุดมหาวิทยาลัยขอนแก่น</option>
            <option value="หออินเตอร์">หออินเตอร์</option>
            <option value="อาคารจอดรถสถานีชาร์จไฟฟ้า">อาคารจอดรถสถานีชาร์จไฟฟ้า</option>
            <option value="อาคารสิริคุณากร">อาคารสิริคุณากร</option>
            <option value="อุทยานการเกษตร1">อุทยานการเกษตร1</option>
            <option value="อุทยานการเกษตร2">อุทยานการเกษตร2</option>
            <!-- รายการอื่นๆ -->
        </select>
var mandatoryStop = "คณะเกษตรศาสตร์2";  // จุดบังคับที่เส้นทางต้องผ่าน

        var routes = {
            bus1: ["ลานจอดรถหอพัก 8 หลัง", "บ้านสวนมอ", "วิมานดิน", "Golden Living", "7-11 หลังหอ 8", "ร้านพู่กันเครื่องเขียน", "หอพักมอแดงเพลส", "ร้านชบา", "เคี้ยงหลังมอ", "ครัวโอมหมูกรอบ", "บ้านพักสบาย", "เกษียรสินธุ์ปาร์ค", "พิมานคอนโด", "โรงอาหาร U-center", "หอในชาย 9", "หอในชาย 8", "โรงชาย", "Complex", "กาแฟเด้อหล่า", "สถาบันลุ่มน้ำโขง", "KKBS", "คณะวิทยาศาสตร์", "คณะสถาปัตยกรรมศาสตร์", "คณะแพทย์ศาสตร์", "คณะเทคนิคการแพทย์", "แฟลตศูนย์แพทย์", "หมู่บ้านศูนย์แพทย์1", "หมู่บ้านศูนย์แพทย์4", "หอพักนศ.พยาบาล", "อาคารสิริคุณากร", "คณะศิลปกรรมศาสตร์", "หมู่บ้านศูนย์แพทย์", "โรงอาหารคณะพยาบาล", "โรงอาหารคณะพยาบาล", "คณะเภสัชศาสตร์2", "คณะศึกษาศาสตร์", "ศูนย์รถมอเตอร์ไซไฟฟ้า", "คณะมนุษยศาสตร์และสังคมศาสตร์", "หอสมุดมหาวิทยาลัยขอนแก่น", "คณะเกษตรศาสตร์3", "โรงยิมเก่า", "สนามยิงปืน", "หออินเตอร์", "หอพัก 8 หลัง", "ลานจอดรถหอพัก 8 หลัง"],
            bus2: ["ลานจอดรถหอพัก 8 หลัง", "หอพัก 8 หลัง", "หออินเตอร์", "ที่พักญาติ", "สระพลาสติก", "คณะเกษตรศาสตร์2", "คณะเทคโนโลยี1", "คณะวิศวกรรมศาสตร์1", "คณะวิศวกรรมศาสตร์2", "คณะพยาบาลศาสตร์", "แฟลตศูนย์แพทย์", "โรงอาหารหนองแวง", "ประตูกังสดาล", "คณะทันตแพทยศาสตร์", "วงเวียนศูนย์หัวใจสิริกิติ์", "แฟลต14", "JK เครื่องเขียน", "ร้านพรพระ", "บึงหนองแวงตราชู", "YOUR SMILE", "ร้านพรพระ", "JK เครื่องเขียน", "ประตูกังสดาล", "คณะทันตแพทยศาสตร์", "คณะเภสัชศาสตร์1", "คณะศึกษาศาสตร์", "KKBS", "คณะวิทยาศาสตร์", "ศูนย์รถมอเตอร์ไซไฟฟ้า", "คณะมนุษยศาสตร์และสังคมศาสตร์", "หอสมุดมหาวิทยาลัยขอนแก่น", "โรงแรมบายาสิตา", "คณะสัตวแพทยศาสตร์", "โรงเรียนสาธิตมอดินแดง", "ศาลเจ้าพ่อมอ","ประตูเจ้าพ่อมอ", "คณะเกษตรศาสตร์3", "โรงยิมเก่า", "สนามยิงปืน", "หออินเตอร์", "หอพัก 8 หลัง", "ลานจอดรถหอพัก 8 หลัง"],
            bus3: ["ลานจอดรถหอพัก 8 หลัง", "หอพัก 8 หลัง","หออินเตอร์","ปตท.", "Aหอในชาย 8", "โรงชาย", "Complex", "กาแฟเด้อหล่า", "โรงแรมบายาสิตา", "คณะสัตวแพทยศาสตร์", "โรงเรียนสาธิตมอดินแดง", "ศาลเจ้าพ่อมอ","ประตูเจ้าพ่อมอ", "สถาบันขงจื่อ", "วิทยาลัยการปกครอง", "โรงพยาบาลศรีนครินทร์", "ศูนย์หัวใจสิริกิติ์", "วงเวียนศูนย์หัวใจสิริกิติ์", "แฟลต14", "คณะทันตแพทยศาสตร์", "คณะเทคนิคการแพทย์", "โรงอาหารคณะพยาบาล", "หอพักนักศึกษาแพทย์", "โรงพิมพ์", "คณะเทคโนโลยี2", "คณะเกษตรศาสตร์1", "คณะเกษตรศาสตร์3", "โรงยิมเก่า", "สนามรักบี้", "ที่พักญาติ", "หออินเตอร์", "หอพัก 8 หลัง", "ลานจอดรถหอพัก 8 หลัง"],
            bus4: ["อาคารจอดรถสถานีชาร์จไฟฟ้า", "แฟลตป่าดู่1", "พิพิธภัณฑ์ธรรมชาติวิทยา", "คุ้มศรีฐาน", "หอศิลป์", "ศูนย์ประชุมกาญจนาภิเษก", "คณะนิติศาสตร์", "แฟลตป่าดู่2", "อุทยานการเกษตร2", "อาคารสิริคุณากร", "หน้าอาคารสิริคุณากร", "คณะเทคโนโลยี1", "คณะเกษตรศาสตร์2", "คณะเกษตรศาสตร์3", "คณะเกษตรศาสตร์1", "คณะเทคโนโลยี2", "ตรงข้ามอาคารสิริคุณากร", "ลานจอรถอุทยานการเกษตร", "อุทยานการเกษตร1", "แฟลตป่าดู่2", "โรงเรียนสาธิตมหาวิทยาลัยขอนแก่น", "ศูนย์ประชุมกาญจนาภิเษก", "ประตูศรีฐาน", "คุ้มศรีฐาน", "พิพิธภัณฑ์ธรรมชาติวิทยา", "แฟลตป่าดู่1", "อาคารจอดรถสถานีชาร์จไฟฟ้า"]
        };

        var startSelect = document.getElementById('start');
        var endSelect = document.getElementById('end');
        
        for (var station in stations) {
            var option = document.createElement('option');
            option.value = station;
            option.textContent = station;
            startSelect.appendChild(option);

            var optionClone = option.cloneNode(true);
            endSelect.appendChild(optionClone);
        }

        function convertToLatLngArray(route) {
            return route.map(function(station) {
                return L.latLng(stations[station]);
            });
        }

        function calculateRoute()
